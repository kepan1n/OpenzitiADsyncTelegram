# OpenZiti Docker Compose Configuration (example)

# Docker Image Settings
ZITI_IMAGE=openziti/quickstart
ZITI_VERSION=latest

# Admin Credentials
# Leave ZITI_PWD blank to auto-generate (if your init flow supports it)
ZITI_USER=admin
ZITI_PWD=CHANGE_ME_STRONG_PASSWORD

# Network Interface (0.0.0.0 = all interfaces)
ZITI_INTERFACE=0.0.0.0

# Container Names
ZITI_CONTROLLER_CONTAINER=ziti-controller
ZITI_ROUTER_CONTAINER=ziti-edge-router

# Persistent Data Paths (inside containers)
ZITI_HOME=/persistent
ZITI_PKI=/persistent/pki

# Controller Configuration
ZITI_CTRL_NAME=ziti-controller
ZITI_CTRL_EDGE_ADVERTISED_ADDRESS=ziti.example.com
ZITI_CTRL_ADVERTISED_ADDRESS=ziti.example.com
ZITI_CTRL_EDGE_ADVERTISED_PORT=1280
ZITI_CTRL_ADVERTISED_PORT=6262

# Optional: Override controller IP if behind NAT
ZITI_CTRL_EDGE_IP_OVERRIDE=203.0.113.10

# Edge Router Configuration
ZITI_ROUTER_NAME=ziti-edge-router
ZITI_ROUTER_ADVERTISED_ADDRESS=router.example.com
ZITI_ROUTER_PORT=3022
ZITI_ROUTER_ROLES=public

# Optional: Override router IP if behind NAT
ZITI_ROUTER_IP_OVERRIDE=203.0.113.10

# Enrollment Duration (in minutes)
ZITI_EDGE_IDENTITY_ENROLLMENT_DURATION=10080
ZITI_ROUTER_ENROLLMENT_DURATION=10080

# VPN service defaults (used by scripts/init-ziti.sh)
VPN_CIDR=10.0.0.0/16
VPN_PORT_LOW=1
VPN_PORT_HIGH=65535
VPN_SERVICE_NAME=vpn-10-0-0-0-16

# LDAP/Active Directory Configuration
LDAP_SERVER=ldaps://ad.example.local:636
LDAP_BIND_DN="CN=svc-ziti,OU=ServiceAccounts,DC=example,DC=local"
LDAP_BIND_PASSWORD=CHANGE_ME
LDAP_BASE_DN=DC=example,DC=local
LDAP_GROUP_DN="CN=VPN Users,OU=Groups,DC=example,DC=local"
LDAP_SYNC_INTERVAL=1800
